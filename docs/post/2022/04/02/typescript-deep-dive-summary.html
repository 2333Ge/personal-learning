<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
    <title>ã€Šæ·±å…¥ç†è§£ TypeScriptã€‹ ç¬”è®° | 2333Ge</title>
    <link rel="shortcut icon" href="/logo.jpg"/>
    <meta name="generator" content="VuePress 1.9.7"/>
    
    <meta name="description" content="ä¸€ä¸ª95åç¨‹åºçŒ¿çš„å­¦ä¹ å°ç«™">
    
    <link rel="preload" href="/docs/assets/css/0.styles.7e878f7b.css" as="style"><link rel="preload" href="/docs/assets/js/app.fdf9fab4.js" as="script"><link rel="preload" href="/docs/assets/js/4.2437bced.js" as="script"><link rel="preload" href="/docs/assets/js/12.7137cc28.js" as="script"><link rel="preload" href="/docs/assets/js/38.66788129.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.f141d789.js"><link rel="prefetch" href="/docs/assets/js/11.442bcd8b.js"><link rel="prefetch" href="/docs/assets/js/13.ce5c32bf.js"><link rel="prefetch" href="/docs/assets/js/14.9acd195f.js"><link rel="prefetch" href="/docs/assets/js/15.322f30e8.js"><link rel="prefetch" href="/docs/assets/js/16.0678c1e2.js"><link rel="prefetch" href="/docs/assets/js/17.3a59b2eb.js"><link rel="prefetch" href="/docs/assets/js/18.da250b71.js"><link rel="prefetch" href="/docs/assets/js/19.aca309b2.js"><link rel="prefetch" href="/docs/assets/js/20.17dd5352.js"><link rel="prefetch" href="/docs/assets/js/21.c159385e.js"><link rel="prefetch" href="/docs/assets/js/22.8b7b96e3.js"><link rel="prefetch" href="/docs/assets/js/23.05434dfc.js"><link rel="prefetch" href="/docs/assets/js/24.9bf3f20b.js"><link rel="prefetch" href="/docs/assets/js/25.5f5a0aec.js"><link rel="prefetch" href="/docs/assets/js/26.a5354581.js"><link rel="prefetch" href="/docs/assets/js/27.924641e4.js"><link rel="prefetch" href="/docs/assets/js/28.10a98872.js"><link rel="prefetch" href="/docs/assets/js/29.45b6c89a.js"><link rel="prefetch" href="/docs/assets/js/30.d5b42300.js"><link rel="prefetch" href="/docs/assets/js/31.ede60d91.js"><link rel="prefetch" href="/docs/assets/js/32.dc14ff68.js"><link rel="prefetch" href="/docs/assets/js/33.8b5e7857.js"><link rel="prefetch" href="/docs/assets/js/34.e0b2dcc5.js"><link rel="prefetch" href="/docs/assets/js/35.5839ecc7.js"><link rel="prefetch" href="/docs/assets/js/36.1fdf5604.js"><link rel="prefetch" href="/docs/assets/js/37.3b220328.js"><link rel="prefetch" href="/docs/assets/js/39.933c024e.js"><link rel="prefetch" href="/docs/assets/js/40.f5e0ea38.js"><link rel="prefetch" href="/docs/assets/js/41.b010eed6.js"><link rel="prefetch" href="/docs/assets/js/42.3a3c2310.js"><link rel="prefetch" href="/docs/assets/js/43.7db302a1.js"><link rel="prefetch" href="/docs/assets/js/44.97826806.js"><link rel="prefetch" href="/docs/assets/js/45.264c1125.js"><link rel="prefetch" href="/docs/assets/js/46.c0fc0ad0.js"><link rel="prefetch" href="/docs/assets/js/47.0c3428ca.js"><link rel="prefetch" href="/docs/assets/js/48.b39aacfa.js"><link rel="prefetch" href="/docs/assets/js/49.9628939b.js"><link rel="prefetch" href="/docs/assets/js/5.6309798a.js"><link rel="prefetch" href="/docs/assets/js/50.af2d54f6.js"><link rel="prefetch" href="/docs/assets/js/51.f4d65a93.js"><link rel="prefetch" href="/docs/assets/js/52.73373cf1.js"><link rel="prefetch" href="/docs/assets/js/53.06a8ed65.js"><link rel="prefetch" href="/docs/assets/js/54.ee0e3754.js"><link rel="prefetch" href="/docs/assets/js/55.92d1347d.js"><link rel="prefetch" href="/docs/assets/js/56.84e19f1f.js"><link rel="prefetch" href="/docs/assets/js/57.56206fc3.js"><link rel="prefetch" href="/docs/assets/js/6.b41b8e83.js"><link rel="prefetch" href="/docs/assets/js/7.5627ef7d.js"><link rel="prefetch" href="/docs/assets/js/8.bbd002bd.js"><link rel="prefetch" href="/docs/assets/js/9.0731487e.js"><link rel="prefetch" href="/docs/assets/js/vendors~flowchart.b9a9f3ba.js"><link rel="prefetch" href="/docs/assets/js/vuejs-paginate.2864cecd.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.7e878f7b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div class="theme-sidebar"><div class="theme-sidebar__inner"><div class="theme-header"><a href="/docs/" class="theme-header__logo router-link-active"><img draggable="false" src="/logo.jpg" alt="logo" width="160" height="160" class="theme-header__picture"> <div class="theme-palette"><span class="theme-palette__emoji"><svg class="theme-icon theme-icon-palette"><use xlink:href="#theme-icon-palette"></use></svg></span> <div class="theme-palette__list"><a href="javascript:;" title="#673ab7" style="color:#673ab7;"></a><a href="javascript:;" title="#3f51b5" style="color:#3f51b5;"></a><a href="javascript:;" title="#2196f3" style="color:#2196f3;"></a><a href="javascript:;" title="#009688" style="color:#009688;"></a><a href="javascript:;" title="#4caf50" style="color:#4caf50;"></a><a href="javascript:;" title="#ff9800" style="color:#ff9800;"></a><a href="javascript:;" title="#ff5722" style="color:#ff5722;"></a><a href="javascript:;" title="#795548" style="color:#795548;"></a><a href="javascript:;" title="#607D8B" style="color:#607D8B;"></a><a href="javascript:;" title="#2a2b33" style="color:#2a2b33;"></a></div></div></a> <a href="/docs/" class="theme-header__name router-link-active">
        2333Ge
      </a> <p class="theme-header__slogan">ä¸€ä¸ª95åç¨‹åºçŒ¿çš„å­¦ä¹ å°ç«™</p></div> <div class="theme-SubNav"><a href="/docs/archives/" class="theme-SubNav__item"><span class="theme-SubNav__count">47</span> <span class="theme-SubNav__name">Archives</span></a> <a href="/docs/categories/" class="theme-SubNav__item"><span class="theme-SubNav__count">19</span> <span class="theme-SubNav__name">Categories</span></a> <a href="/docs/tags/" class="theme-SubNav__item"><span class="theme-SubNav__count">25</span> <span class="theme-SubNav__name">Tags</span></a></div> <div class="theme-nav"><div class="search-box mt-7"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  ğŸ  ä¸»é¡µ
</a></div> <!----></nav></div> <div class="theme-footer"><div class="social-links"><a target="_blank" rel="external nofollow noopener" title="email" href="mailto:ych.class@qq.com" class="icon-email">email</a><a target="_blank" rel="external nofollow noopener" title="github" href="https://github.com/2333Ge" class="icon-github">github</a></div> <p class="copyright"></p> <p class="powered"><span>Powered by <a href="https://vuepress.vuejs.org" target="_blank" rel="external nofollow noopener">VuePress</a></span> <span class="Ï†de"> Theme - <a href="https://github.com/80maker/vuepress-theme-maker" target="_blank" rel="external nofollow noopener">Maker</a></span></p></div></div></div> <div class="theme-main"><div class="theme-main__inner post"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting"><header class="article__header"><h1 itemprop="name headline" class="post-title">
          ã€Šæ·±å…¥ç†è§£ TypeScriptã€‹ ç¬”è®°
        </h1> <div class="post-meta"><!----> <div class="post-meta__date"><i class="icon-calendar"></i> <time pubdate itemprop="datePublished" datetime="2022-04-02T00:00:00.000Z">
      Apr 02, 2022
    </time></div> <div class="post-meta__cates"><i class="icon-cate"></i> <a href="/docs/categories/TypeScript/">
      TypeScript
    </a></div> <div class="post-meta__reading"><i class="icon-time"></i>
    2.8k words in 11 min
  </div> <div id="" data-flag-title="Your Article Title" class="leancloud_visitors"><i class="icon-eye"></i> <i class="leancloud-visitors-count">--</i></div></div></header> <div class="article-con"><div itemprop="articleBody" class="article-content content__default copy-code-enabled"><h2 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h2> <p><a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener noreferrer">TSä¸­æ–‡ç½‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>å­¦ä¹ è¿‡ä¸€éï¼ŒæŸ¥æ¼è¡¥ç¼ºï¼Œåªè®°å½•æ²¡è§è¿‡ã€æ²¡æŒæ¡ã€æ¯”è¾ƒé‡è¦çš„çŸ¥è¯†ç‚¹</p> <p>åŸæ–‡é“¾æ¥ï¼šhttps://jkchao.github.io/typescript-book-chinese/</p> <p>ä»æ­¤ä¹¦å­¦åˆ°çš„ä¸œè¥¿ï¼š</p> <ul><li>æšä¸¾ï¼Œè¯­ä¹‰åŒ–åŸºç¡€æ ‡è¯†</li> <li>é‡è½½</li> <li>inferï¼šæ ‡è¯† <code>extends</code> ä¸­å¾…æ¨æ–­çš„ç±»å‹å˜é‡</li> <li>åå˜ã€é€†å˜ ï¼ˆè¿˜æ˜¯ä¼¼æ‡‚éæ‡‚ï¼‰</li> <li>global.d.ts: å…¨å±€æ¨¡å—å£°æ˜ï¼Œå¦‚åœ¨ç°æœ‰Stringä¸­æ–°å¢å·¥å…·æ–¹æ³•ã€æ— ç±»å‹æç¤ºçš„moduleå¯åœ¨æ­¤å£°æ˜</li> <li>ç»“åˆ<a href="/docs/_post/coding-summary/typescript/typescript-nice-code-snippet.html">TS ä¼˜ç§€ä»£ç ç‰‡æ®µ</a>ã€<a href="/docs/_post/coding-summary/typescript/typescript-skill.html">TS æŠ€å·§</a>å¤ä¹ 
...</li></ul> <h2 id="å£°æ˜ç©ºé—´"><a href="#å£°æ˜ç©ºé—´" class="header-anchor">#</a> å£°æ˜ç©ºé—´</h2> <p><a href="https://jkchao.github.io/typescript-book-chinese/project/declarationspaces.html" target="_blank" rel="noopener noreferrer">å£°æ˜ç©ºé—´<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼šç±»å‹å£°æ˜ç©ºé—´ä¸å˜é‡å£°æ˜ç©ºé—´ã€‚</p> <p>ä¸‹ä¾‹ <code>Class Foo</code> æä¾›äº†ä¸€ä¸ªç±»å‹ <code>Foo</code> åˆ°ç±»å‹å£°æ˜ç©ºé—´ï¼Œæ­¤å¤–å®ƒåŒæ ·æä¾›äº†ä¸€ä¸ªå˜é‡ <code>Foo</code> åˆ°å˜é‡å£°æ˜ç©ºé—´ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> someVar <span class="token operator">=</span> Foo<span class="token punctuation">;</span>
<span class="token keyword">const</span> someOtherVar <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¸‹ä¾‹ å®šä¹‰äº†<code>interface Bar</code>ï¼Œå´å¹¶ä¸èƒ½å¤ŸæŠŠå®ƒä½œä¸ºä¸€ä¸ªå˜é‡æ¥ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæ²¡æœ‰å®šä¹‰åœ¨å˜é‡å£°æ˜ç©ºé—´ä¸­ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> Bar<span class="token punctuation">;</span> <span class="token comment">// Error: &quot;cannot find name 'Bar'&quot;</span>
</code></pre></div><h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="header-anchor">#</a> æ¨¡å—</h2> <h3 id="æ¨¡å—è·¯å¾„"><a href="#æ¨¡å—è·¯å¾„" class="header-anchor">#</a> æ¨¡å—è·¯å¾„</h3> <p>å½“å¯¼å…¥è·¯å¾„ä¸æ˜¯ç›¸å¯¹è·¯å¾„æ—¶å€™ï¼Œä¼šæŒ‰ç…§Nodeæ¨¡å—è§£æç­–ç•¥</p> <p>å½“ä½ ä½¿ç”¨ <code>import * as foo from 'foo'</code>ï¼Œå°†ä¼šæŒ‰å¦‚ä¸‹é¡ºåºæŸ¥æ‰¾æ¨¡å—ï¼š</p> <ul><li><code>./node_modules/foo</code></li> <li><code>../node_modules/foo</code></li> <li><code>../../node_modules/foo</code></li> <li>ç›´åˆ°ç³»ç»Ÿçš„æ ¹ç›®å½•</li></ul> <p>å½“ä½ ä½¿ç”¨ <code>import * as foo from 'something/foo'</code>ï¼Œå°†ä¼šæŒ‰ç…§å¦‚ä¸‹é¡ºåºæŸ¥æ‰¾å†…å®¹</p> <ul><li><code>./node_modules/something/foo</code></li> <li><code>../node_modules/something/foo</code></li> <li><code>../../node_modules/something/foo</code></li> <li>ç›´åˆ°ç³»ç»Ÿçš„æ ¹ç›®å½•</li></ul> <h3 id="é‡å†™ç±»å‹çš„åŠ¨æ€æŸ¥æ‰¾"><a href="#é‡å†™ç±»å‹çš„åŠ¨æ€æŸ¥æ‰¾" class="header-anchor">#</a> é‡å†™ç±»å‹çš„åŠ¨æ€æŸ¥æ‰¾</h3> <p>å¯ä»¥é€šè¿‡ <code>declare module 'somePath'</code> å£°æ˜ä¸€ä¸ªå…¨å±€æ¨¡å—çš„æ–¹å¼ï¼Œæ¥è§£å†³æŸ¥æ‰¾æ¨¡å—è·¯å¾„çš„é—®é¢˜ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// global.d.ts</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'foo'</span> <span class="token punctuation">{</span>
  <span class="token comment">// some variable declarations</span>
  <span class="token keyword">export</span> <span class="token keyword">var</span> bar<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="header-anchor">#</a> <a href="https://jkchao.github.io/typescript-book-chinese/project/modules.html#%E4%BD%BF%E7%94%A8%E4%BE%8B%E5%AD%90%EF%BC%9A%E6%87%92%E5%8A%A0%E8%BD%BD" target="_blank" rel="noopener noreferrer">æ‡’åŠ è½½<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>ï¼Ÿï¼Ÿä¸å¤ªç†è§£ä½¿ç”¨åœºæ™¯:</p> <ul><li>åœ¨ web app é‡Œï¼Œ å½“ä½ åœ¨ç‰¹å®šè·¯ç”±ä¸ŠåŠ è½½ JavaScript æ—¶ï¼›</li> <li>åœ¨ node åº”ç”¨é‡Œï¼Œå½“ä½ åªæƒ³åŠ è½½ç‰¹å®šæ¨¡å—ï¼Œç”¨æ¥åŠ å¿«å¯åŠ¨é€Ÿåº¦æ—¶ã€‚</li></ul> <h2 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="header-anchor">#</a> å‘½åç©ºé—´</h2> <p>å¸¸ç”¨ç›®çš„ï¼šè§£å†³é‡åé—®é¢˜</p> <p><a href="https://www.runoob.com/typescript/ts-namespace.html" target="_blank" rel="noopener noreferrer">èœé¸Ÿæ•™ç¨‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸­è®²çš„æ¯”è¾ƒæ¸…æ¥š</p> <h2 id="å¼•å…¥é¢å¤–çš„éjsèµ„æº"><a href="#å¼•å…¥é¢å¤–çš„éjsèµ„æº" class="header-anchor">#</a> å¼•å…¥é¢å¤–çš„éJSèµ„æº</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// global.d.ts</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'*.css'</span><span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨ <code>import * as foo from './some/file.css'</code>ã€‚</p> <h2 id="types"><a href="#types" class="header-anchor">#</a> @types</h2> <p>å¯ä»¥é€šè¿‡ npm æ¥å®‰è£…ä½¿ç”¨ <code>@types</code>ï¼Œä¾‹å¦‚ä¸º <code>jquery</code> æ·»åŠ å£°æ˜æ–‡ä»¶</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> @types/jquery --save-dev
</code></pre></div><p>æ§åˆ¶å…¨å±€ï¼Œé€šè¿‡é…ç½® <code>tsconfig.json</code> çš„ <code>compilerOptions.types</code> é€‰é¡¹ï¼Œå¼•å…¥æœ‰æ„ä¹‰çš„ç±»å‹ï¼Œå¦‚ä¸‹ä¾‹åªå…è®¸ä½¿ç”¨<code>jquery</code>çš„<code>@type</code>åŒ…</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;types&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;jquery&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ç¯å¢ƒå£°æ˜"><a href="#ç¯å¢ƒå£°æ˜" class="header-anchor">#</a> ç¯å¢ƒå£°æ˜</h2> <p>å¯ä»¥é€šè¿‡ <code>declare</code> å…³é”®å­—æ¥å‘Šè¯‰ <code>TypeScript</code>ï¼Œä½ æ­£åœ¨è¯•å›¾è¡¨è¿°ä¸€ä¸ªå…¶ä»–åœ°æ–¹å·²ç»å­˜åœ¨çš„ä»£ç ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">/*
  å‡å¦‚node.d.tsä¸­å£°æ˜äº†processï¼Œå¦‚ä¸‹å£°æ˜ä¼šè¦†ç›–æ‰å·²æœ‰å£°æ˜å—??ä¼¼ä¹ä¸ä¼šè¦†ç›–ï¼Œæ³¨æ„æƒ³è¦å£°æ˜çš„æ¥å£å’Œå˜é‡åæ˜¯å¦ä¸€è‡´ï¼Œå¦‚Stringå®ç°æ¥å£æ˜¯StringConstructor
*/</span>

<span class="token keyword">interface</span> <span class="token class-name">Process</span> <span class="token punctuation">{</span>
  <span class="token function">exit</span><span class="token punctuation">(</span>code<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">let</span> process<span class="token operator">:</span> Process<span class="token punctuation">;</span>
</code></pre></div><p>å¦‚ä½•åˆ›å»ºç±»ä¼¼processè¿™æ ·çš„ä¸ç”¨importçš„å˜é‡??ä¸‹é¢çš„æ–¹å¼RNä¸­å¯ä»¥ä½¿ç”¨ï¼Œä½†ä¼šæç¤º<code>'ppp' is not defined</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// global.d.ts</span>
<span class="token keyword">declare</span> <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">PPP</span></span> <span class="token punctuation">{</span>
  <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">let</span> ppp<span class="token operator">:</span> <span class="token constant">PPP</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code>global<span class="token punctuation">.</span>ppp <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">log</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'============'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 'ppp' is not defined</span>
ppp<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="æšä¸¾"><a href="#æšä¸¾" class="header-anchor">#</a> æšä¸¾</h2> <h3 id="æ•°å­—ç±»å‹æšä¸¾"><a href="#æ•°å­—ç±»å‹æšä¸¾" class="header-anchor">#</a> æ•°å­—ç±»å‹æšä¸¾</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>
  Red<span class="token punctuation">,</span>
  Green<span class="token punctuation">,</span>
  Blue
<span class="token punctuation">}</span>

<span class="token keyword">let</span> col <span class="token operator">=</span> Color<span class="token punctuation">.</span>Red<span class="token punctuation">;</span>
col <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰æ•ˆçš„ï¼Œè¿™ä¹Ÿæ˜¯ Color.Red</span>

col <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// è¿™æ ·èµ‹å€¼TSä¸æŠ¥é”™??éœ€è¦æ³¨æ„ğŸ“¢</span>
</code></pre></div><p>ä½•æ—¶å¯ä»¥ä½¿ç”¨æšä¸¾ï¼Œç”¨æ•°å­—ã€äºŒè¿›åˆ¶è¡¨ç¤ºæŸç§çŠ¶æ€æ—¶ï¼Œæšä¸¾èƒ½è¯­ä¹‰åŒ–å­—æ®µçš„è¡¨ç¤ºçš„çŠ¶æ€ï¼Œåˆèƒ½ç”¨äºçœŸå®ç¯å¢ƒçš„æ•°æ®ä¼ è¾“</p> <div class="language-ts extra-class"><pre class="language-ts"><code>
<span class="token keyword">enum</span> AnimalFlags <span class="token punctuation">{</span>
  None        <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  HasClaws    <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
  CanFly      <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="å¸¸é‡æšä¸¾"><a href="#å¸¸é‡æšä¸¾" class="header-anchor">#</a> å¸¸é‡æšä¸¾</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Tristate <span class="token punctuation">{</span>
  False<span class="token punctuation">,</span>
  True<span class="token punctuation">,</span>
  Unknown
<span class="token punctuation">}</span>

<span class="token keyword">const</span> lie <span class="token operator">=</span> Tristate<span class="token punctuation">.</span>False<span class="token punctuation">;</span>

<span class="token comment">// ç¼–è¯‘æˆå¦‚ä¸‹å½¢å¼ï¼Œæ„å‘³ç€è¿è¡Œæ—¶ä¼šæŸ¥æ‰¾å˜é‡Tristate å’Œ Tristate.False</span>
<span class="token keyword">let</span> lie <span class="token operator">=</span> Tristate<span class="token punctuation">.</span>False
</code></pre></div><p>ç”¨ä¸‹åˆ—å†™æ³•å¯ä»¥è·å¾—æ€§èƒ½ä¸Šçš„ä¸€ä¸ªå°æå‡</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token keyword">enum</span> Tristate <span class="token punctuation">{</span>
  False<span class="token punctuation">,</span>
  True<span class="token punctuation">,</span>
  Unknown
<span class="token punctuation">}</span>

<span class="token keyword">const</span> lie <span class="token operator">=</span> Tristate<span class="token punctuation">.</span>False<span class="token punctuation">;</span>

<span class="token comment">// ç¼–è¯‘æˆ</span>
<span class="token keyword">let</span> lie <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

</code></pre></div><ul><li>å†…è”æšä¸¾çš„ä»»ä½•ç”¨æ³•ï¼ˆ0 è€Œä¸æ˜¯ <code>Tristate.False</code>ï¼‰ï¼›</li> <li>ä¸ä¼šä¸ºæšä¸¾ç±»å‹ç¼–è¯‘æˆä»»ä½• JavaScriptï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿è¡Œæ—¶æ²¡æœ‰ <code>Tristate</code> å˜é‡ï¼‰ï¼Œå› ä¸ºå®ƒä½¿ç”¨å†…è”è¯­æ³•ã€‚</li></ul> <h2 id="å¼€æ”¾å¼æšä¸¾"><a href="#å¼€æ”¾å¼æšä¸¾" class="header-anchor">#</a> å¼€æ”¾å¼æšä¸¾</h2> <p>ç¼–è¯‘åçš„æšä¸¾é•¿è¿™æ ·</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> Tristate<span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">Tristate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Tristate<span class="token punctuation">[</span><span class="token punctuation">(</span>Tristate<span class="token punctuation">[</span><span class="token string">'False'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'False'</span><span class="token punctuation">;</span>
  Tristate<span class="token punctuation">[</span><span class="token punctuation">(</span>Tristate<span class="token punctuation">[</span><span class="token string">'True'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'True'</span><span class="token punctuation">;</span>
  Tristate<span class="token punctuation">[</span><span class="token punctuation">(</span>Tristate<span class="token punctuation">[</span><span class="token string">'Unknown'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Unknown'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Tristate <span class="token operator">||</span> <span class="token punctuation">(</span>Tristate <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™æ•è·äº†ä¸€ä¸ªå±€éƒ¨å˜é‡ TriStateï¼Œå®ƒè¦ä¹ˆæŒ‡å‘å·²ç»å®šä¹‰çš„TriState å€¼ï¼Œè¦ä¹ˆä½¿ç”¨ä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡æ¥åˆå§‹åŒ–å®ƒã€‚</p> <p>è¿™æ„å‘³ç€ä½ å¯ä»¥è·¨å¤šä¸ªæ–‡ä»¶æ‹†åˆ†ï¼ˆå’Œæ‰©å±•ï¼‰æšä¸¾å®šä¹‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œä½ å¯ä»¥æŠŠ Color çš„å®šä¹‰æ‹†åˆ†è‡³ä¸¤ä¸ªå—ä¸­ï¼š</p> <p>æ„å‘³ç€é‡å¤çš„å‘½åä¼šè¦†ç›–?ï¼Ÿç¼–è¯‘åçš„JSåœ¨å¤šä¸ªæ–‡ä»¶ä¼šäº’ç›¸å½±å“??æ —å­??</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>
  Red<span class="token punctuation">,</span>
  Green<span class="token punctuation">,</span>
  Blue
<span class="token punctuation">}</span>

<span class="token keyword">enum</span> Color <span class="token punctuation">{</span>
  DarkRed <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>
  DarkGreen<span class="token punctuation">,</span>
  DarkBlue
<span class="token punctuation">}</span>
</code></pre></div><h2 id="lib-d-ts"><a href="#lib-d-ts" class="header-anchor">#</a> lib.d.ts</h2> <p>å®‰è£… <code>TypeScript</code> æ—¶ï¼Œä¼šé¡ºå¸¦å®‰è£…ä¸€ä¸ª <code>lib.d.ts</code> å£°æ˜æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶åŒ…å« JavaScript è¿è¡Œæ—¶ä»¥åŠ DOM ä¸­å­˜åœ¨å„ç§å¸¸è§çš„ç¯å¢ƒå£°æ˜ã€‚</p> <ul><li>æœªå®‰è£…TSç¼–å†™JSä»£ç æ²¡æç¤ºå°±æ˜¯è¿™ä¸ªåŸå› ??VSC TSæ’ä»¶ä¼¼ä¹ä¼šæä¾›è¿™ä¸ªæ–‡ä»¶</li></ul> <p>ä½¿ç”¨ <code>global.d.ts</code>åˆ›å»ºè‡ªå·±çš„å£°æ˜ç©ºé—´</p> <h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="header-anchor">#</a> å‡½æ•°</h2> <p>TSæ”¯æŒå£°æ˜å‡½æ•°é‡è½½</p> <ul><li>æœ‰å‡½æ•°å®ç°çš„æƒ…å†µå¯å¦‚ä¸‹æ–¹å¼å£°æ˜å‡½æ•°é‡è½½</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">padding</span><span class="token punctuation">(</span>all<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">padding</span><span class="token punctuation">(</span>topAndBottom<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> leftAndRight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">padding</span><span class="token punctuation">(</span>top<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> right<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> bottom<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> left<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Actual implementation that is a true representation of all the cases the function body needs to handle</span>
<span class="token keyword">function</span> <span class="token function">padding</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> c<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> d<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> c <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> d <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    b <span class="token operator">=</span> c <span class="token operator">=</span> d <span class="token operator">=</span> a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> d <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c <span class="token operator">=</span> a<span class="token punctuation">;</span>
    d <span class="token operator">=</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    top<span class="token operator">:</span> a<span class="token punctuation">,</span>
    right<span class="token operator">:</span> b<span class="token punctuation">,</span>
    bottom<span class="token operator">:</span> c<span class="token punctuation">,</span>
    left<span class="token operator">:</span> d
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>æ— å‡½æ•°å®ç°çš„æƒ…å†µä¸‹éœ€è¦è¿™ä¹ˆå£°æ˜</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">LongHandAllowsOverloadDeclarations</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// psï¼š è¿™ç§æ–¹å¼æ— æ³•å£°æ˜é‡è½½</span>
<span class="token keyword">type</span> <span class="token class-name">ShortHand</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="å¯è°ƒç”¨çš„ç±»å‹"><a href="#å¯è°ƒç”¨çš„ç±»å‹" class="header-anchor">#</a> å¯è°ƒç”¨çš„ç±»å‹</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">ReturnString</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¡¨ç¤ºä¸€ä¸ªè¿”å›å€¼ä¸º string çš„å‡½æ•°.</p> <p>å†…è”å†™æ³•ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> overloaded<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>foo<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token punctuation">(</span>foo<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å¯å®ä¾‹åŒ–å†™æ³•</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">CallMeWithNewToGetString</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨</span>
<span class="token keyword">declare</span> <span class="token keyword">const</span> Foo<span class="token operator">:</span> CallMeWithNewToGetString<span class="token punctuation">;</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bar è¢«æ¨æ–­ä¸º string ç±»å‹</span>
</code></pre></div><p>paddingä¸èƒ½å½“åšç±»å‹ä½¿ç”¨å—??è¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªåˆè§„çš„å˜é‡å‘€..</p> <div class="language-ts extra-class"><pre class="language-ts"><code>
<span class="token comment">// errorï¼šâ€œpaddingâ€è¡¨ç¤ºå€¼ï¼Œä½†åœ¨æ­¤å¤„ç”¨ä½œç±»å‹</span>
<span class="token keyword">function</span> <span class="token function">padding</span><span class="token punctuation">(</span>all<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> padding<span class="token punctuation">;</span>
</code></pre></div><h2 id="åŒé‡æ–­è¨€"><a href="#åŒé‡æ–­è¨€" class="header-anchor">#</a> åŒé‡æ–­è¨€</h2> <p>è°¨æ…ä½¿ç”¨ï¼Œå½“ä½ äº†è§£ä¼ å…¥å‚æ•°æ›´å…·ä½“çš„ç±»å‹æ—¶</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span>event<span class="token operator">:</span> Event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> event <span class="token keyword">as</span> HTMLElement<span class="token punctuation">;</span> <span class="token comment">// Error: 'Event' å’Œ 'HTMLElement' ä¸­çš„ä»»ä½•ä¸€ä¸ªéƒ½ä¸èƒ½èµ‹å€¼ç»™å¦å¤–ä¸€ä¸ª</span>
  <span class="token keyword">const</span> element2 <span class="token operator">=</span> <span class="token punctuation">(</span>event <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">;</span> <span class="token comment">// ok</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ç±»å‹ä¿æŠ¤"><a href="#ç±»å‹ä¿æŠ¤" class="header-anchor">#</a> ç±»å‹ä¿æŠ¤</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ä»…ä»…æ˜¯ä¸€ä¸ª interface</span>
<span class="token keyword">interface</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  foo<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  common<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
  bar<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  common<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç”¨æˆ·è‡ªå·±å®šä¹‰çš„ç±»å‹ä¿æŠ¤ï¼</span>
<span class="token keyword">function</span> <span class="token function">isFoo</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> Foo <span class="token operator">|</span> Bar<span class="token punctuation">)</span><span class="token operator">:</span> arg <span class="token keyword">is</span> Foo <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>arg <span class="token keyword">as</span> Foo<span class="token punctuation">)</span><span class="token punctuation">.</span>foo <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="header-anchor">#</a> ç±»å‹æ¨æ–­</h2> <p>é€‰é¡¹ <code>noImplicitAny</code> ç”¨æ¥å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå½“æ— æ³•æ¨æ–­ä¸€ä¸ªå˜é‡æ—¶å‘å‡ºä¸€ä¸ªé”™è¯¯ï¼ˆæˆ–è€…åªèƒ½æ¨æ–­ä¸ºä¸€ä¸ªéšå¼çš„ <code>any</code> ç±»å‹ï¼‰</p> <h2 id="never"><a href="#never" class="header-anchor">#</a> Never</h2> <p><code>never</code> ä¸<code>void</code>çš„å·®å¼‚:</p> <p><code>void</code> è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ï¼Œ<code>never</code> è¡¨ç¤ºæ°¸è¿œä¸å­˜åœ¨çš„å€¼çš„ç±»å‹</p> <p><code>void</code> ç±»å‹å¯ä»¥è¢«èµ‹å€¼ï¼ˆåœ¨ strictNullChecking ä¸º false æ—¶ï¼‰ï¼Œä½†æ˜¯é™¤äº† <code>never</code> æœ¬èº«ä»¥å¤–ï¼Œå…¶ä»–ä»»ä½•ç±»å‹ä¸èƒ½èµ‹å€¼ç»™ <code>never</code>ã€‚</p> <p>ç±»ä¼¼è¿™æ ·??</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">V</span></span> <span class="token operator">=</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">N</span></span> <span class="token operator">=</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token constant">V</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b<span class="token operator">:</span> <span class="token constant">N</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// ä¸èƒ½å°†ç±»å‹â€œundefinedâ€åˆ†é…ç»™ç±»å‹â€œneverâ€ã€‚ts(2322)</span>
</code></pre></div><h2 id="ç´¢å¼•ç­¾å"><a href="#ç´¢å¼•ç­¾å" class="header-anchor">#</a> ç´¢å¼•ç­¾å</h2> <div class="language-ts extra-class"><pre class="language-ts"><code>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token string">'MM'</span> <span class="token operator">|</span> <span class="token string">'BB'</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">A</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">A</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token comment">// Cä¸ºä»€ä¹ˆæŠ¥é”™,å’ŒBçš„åŒºåˆ«?? æ˜ å°„çš„ç±»å‹å¯èƒ½ä¸å£°æ˜å±æ€§æˆ–æ–¹æ³•,ts(7061)</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">C</span></span><span class="token punctuation">{</span>
  <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token constant">A</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å°½é‡ä¸è¦ä½¿ç”¨è¿™ç§æŠŠå­—ç¬¦ä¸²ç´¢å¼•ç­¾åä¸æœ‰æ•ˆå˜é‡æ··åˆä½¿ç”¨ã€‚å¦‚æœå±æ€§åç§°ä¸­æœ‰æ‹¼å†™é”™è¯¯ï¼Œè¿™ä¸ªé”™è¯¯ä¸ä¼šè¢«æ•è·åˆ°ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">NestedCSS</span> <span class="token punctuation">{</span>
  color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// strictNullChecks=false æ—¶ç´¢å¼•ç­¾åå¯ä¸º undefined</span>
  <span class="token punctuation">[</span>selector<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> NestedCSS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> failsSilently<span class="token operator">:</span> NestedCSS <span class="token operator">=</span> <span class="token punctuation">{</span>
  colour<span class="token operator">:</span> <span class="token string">'red'</span> <span class="token comment">// 'colour' ä¸ä¼šè¢«æ•æ‰åˆ°é”™è¯¯</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å–è€Œä»£ä¹‹ï¼Œæˆ‘ä»¬æŠŠç´¢å¼•ç­¾ååˆ†ç¦»åˆ°è‡ªå·±çš„å±æ€§é‡Œ</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">NestedCSS</span> <span class="token punctuation">{</span>
  color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  nest<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>selector<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> NestedCSS<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">const</span> failsSliently<span class="token operator">:</span> NestedCSS <span class="token operator">=</span> <span class="token punctuation">{</span>
  colour<span class="token operator">:</span> <span class="token string">'red'</span>  <span class="token comment">// TS Error: æœªçŸ¥å±æ€§ 'colour'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ç´¢å¼•ç­¾åä¸­æ’é™¤æŸäº›å±æ€§"><a href="#ç´¢å¼•ç­¾åä¸­æ’é™¤æŸäº›å±æ€§" class="header-anchor">#</a> ç´¢å¼•ç­¾åä¸­æ’é™¤æŸäº›å±æ€§</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">FieldState</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">FromState</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  isValid<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> <span class="token comment">// Error: ä¸ç¬¦åˆç´¢å¼•ç­¾å</span>
  <span class="token punctuation">[</span>filedName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> FieldState<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>è¯·æ³¨æ„å°½ç®¡ä½ å¯ä»¥å£°æ˜å®ƒè‡³ä¸€ä¸ªå·²å­˜åœ¨çš„ TypeScript ç±»å‹ä¸Šï¼Œä½†æ˜¯ä½ ä¸èƒ½åˆ›å»ºå¦‚ä¸‹çš„å¯¹è±¡</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">FieldState</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">FormState</span> <span class="token operator">=</span> <span class="token punctuation">{</span> isValid<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>fieldName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> FieldState <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨å®ƒæ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå°†ä¸ä¼šå·¥ä½œ</span>
<span class="token keyword">const</span> bar<span class="token operator">:</span> FormState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¸ºå•¥æŠ¥é”™??  'isValid' ä¸èƒ½èµ‹å€¼ç»™ 'FieldState'</span>
  isValid<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="åä¹‰åŒ–æšä¸¾"><a href="#åä¹‰åŒ–æšä¸¾" class="header-anchor">#</a> åä¹‰åŒ–æšä¸¾</h2> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// BAR</span>
<span class="token keyword">enum</span> BarIdBrand <span class="token punctuation">{</span>
  _ <span class="token operator">=</span> <span class="token string">''</span>
<span class="token punctuation">}</span>

</code></pre></div><p><code>_</code> æ˜ å°„åˆ°ç©ºå­—ç¬¦ä¸²çš„æˆå‘˜ï¼Œå³<code>{ _ = '' }</code>ã€‚è¿™å¯ä»¥å¼ºåˆ¶ <code>TypeScript</code> æ¨æ–­å‡ºè¿™æ˜¯ä¸€ä¸ªåŸºäºå­—ç¬¦ä¸²çš„æšä¸¾ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•°å­—ç±»å‹çš„æšä¸¾ã€‚å› ä¸º<code>TypeScript</code> ä¼šæŠŠä¸€ä¸ªç©ºçš„æšä¸¾ç±»å‹ï¼ˆ<code>{}</code>ï¼‰æ¨æ–­ä¸ºä¸€ä¸ªæ•°å­—ç±»å‹çš„æšä¸¾ï¼Œæ•°å­—ç±»å‹çš„æšä¸¾ä¸ <code>string</code> çš„äº¤å‰ç±»å‹æ˜¯ <code>never</code></p> <h2 id="åå˜ä¸é€†å˜"><a href="#åå˜ä¸é€†å˜" class="header-anchor">#</a> åå˜ä¸é€†å˜??</h2> <p>å…ˆçº¦å®šå¦‚ä¸‹çš„æ ‡è®°ï¼š</p> <ul><li><code>A â‰¼ B</code> æ„å‘³ç€ <code>A</code> æ˜¯ <code>B</code> çš„å­ç±»å‹ã€‚</li> <li><code>A â†’ B</code> æŒ‡çš„æ˜¯ä»¥ <code>A</code> ä¸ºå‚æ•°ç±»å‹ï¼Œä»¥ <code>B</code> ä¸ºè¿”å›å€¼ç±»å‹çš„å‡½æ•°ç±»å‹ã€‚</li> <li><code>x : A</code> æ„å‘³ç€ <code>x</code> çš„ç±»å‹ä¸º <code>A</code>ã€‚</li></ul> <p>å‡è®¾ï¼š<code>Greyhound â‰¼ Dog â‰¼ Animal</code></p> <p>å¾—å‡ºï¼š<code>(Animal â†’ Greyhound) â‰¼ (Dog â†’ Dog)</code>ï¼ˆè¯¦ç»†æ¨å¯¼è¿‡ç¨‹<a href="https://jkchao.github.io/typescript-book-chinese/tips/covarianceAndContravariance.html" target="_blank" rel="noopener noreferrer">è§<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼‰</p> <p>ç”¨æœ¯è¯­è¡¨ç¤ºï¼šå‚æ•°ç±»å‹æ˜¯é€†å˜çš„ï¼Œè¿”å›å€¼ç±»å‹æ˜¯åå˜çš„ã€‚</p> <blockquote><p>è¿”å›å€¼ç±»å‹æ˜¯åå˜çš„ï¼Œæ„æ€æ˜¯ A â‰¼ B å°±æ„å‘³ç€ (T â†’ A) â‰¼ (T â†’ B) ã€‚å‚æ•°ç±»å‹æ˜¯é€†å˜çš„ï¼Œæ„æ€æ˜¯ A â‰¼ B å°±æ„å‘³ç€ (B â†’ T) â‰¼ (A â†’ T) ï¼ˆ A å’Œ B çš„ä½ç½®é¢ å€’è¿‡æ¥äº†ï¼‰</p></blockquote> <h2 id="infer"><a href="#infer" class="header-anchor">#</a> infer</h2> <p><code>infer</code> è¡¨ç¤ºåœ¨ <code>extends</code> æ¡ä»¶è¯­å¥ä¸­å¾…æ¨æ–­çš„ç±»å‹å˜é‡ï¼Œå¦‚ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">ParamType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">P</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span> <span class="token operator">?</span> <span class="token constant">P</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>


<span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Func</span> <span class="token operator">=</span> <span class="token punctuation">(</span>user<span class="token operator">:</span> User<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">Param</span> <span class="token operator">=</span> ParamType<span class="token operator">&lt;</span>Func<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// Param = User</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">AA</span></span> <span class="token operator">=</span> ParamType<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// string</span>

</code></pre></div><p>ç¤ºä¾‹1ï¼štuple è½¬ union eg: <code>[string, number] -&gt; string | number</code></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">type</span> <span class="token class-name">ElementOf<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token keyword">infer</span> <span class="token constant">E</span><span class="token operator">&gt;</span></span> <span class="token operator">?</span> <span class="token constant">E</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">TTuple</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">ToUnion</span> <span class="token operator">=</span> ElementOf<span class="token operator">&lt;</span>TTuple<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// string | number</span>

<span class="token comment">// é«˜çº§å†™æ³•</span>
<span class="token keyword">type</span> <span class="token class-name">ToUnion</span> <span class="token operator">=</span> TTuple<span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// string | number</span>

</code></pre></div><p>ç¤ºä¾‹2ï¼šhttps://github.com/LeetCode-OpenSource/hire/blob/master/typescript_zh.md</p> <p><a href="./infer-demo.ts">é¢˜ç›®åŠä¸ªäººè§£ç­”</a></p> <h2 id="faqs"><a href="#faqs" class="header-anchor">#</a> FAQs</h2> <h3 id="å¦‚æœå¯¹è±¡å®ç°äº†æŸä¸ªæ¥å£-æˆ‘æ€ä¹ˆåœ¨è¿è¡Œæ—¶æ£€æŸ¥"><a href="#å¦‚æœå¯¹è±¡å®ç°äº†æŸä¸ªæ¥å£-æˆ‘æ€ä¹ˆåœ¨è¿è¡Œæ—¶æ£€æŸ¥" class="header-anchor">#</a> å¦‚æœå¯¹è±¡å®ç°äº†æŸä¸ªæ¥å£ï¼Œæˆ‘æ€ä¹ˆåœ¨è¿è¡Œæ—¶æ£€æŸ¥ï¼Ÿ</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">SomeInterface</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">SomeOtherInterface</span> <span class="token punctuation">{</span>
  questions<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token operator">:</span> SomeInterface <span class="token operator">|</span> SomeOtherInterface<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Can't use instanceof on interface, help?</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token keyword">instanceof</span> <span class="token class-name">SomeInterface</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨ç¼–è¯‘æ—¶æœŸï¼Œ TypeScript çš„ç±»å‹è¢«åˆ é™¤ã€‚è¿™æ„å‘³ç€æ²¡æœ‰ç”¨äºæ‰§è¡Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥çš„å†…ç½®æœºåˆ¶ã€‚è¿™å®Œå…¨å–å†³ä¸ä½ å¦‚ä½•é‰´åˆ«å¯¹è±¡ã€‚ä¸€ä¸ªæ¯”è¾ƒå¹¿æ³›çš„ç”¨æ³•æ˜¯æ£€æŸ¥æŸä¸ªå¯¹è±¡é‡Œçš„å±æ€§ã€‚ä½ å¯ä»¥ä½¿ç”¨ç”¨æˆ·å®šä¹‰çš„ç±»å‹ä¿æŠ¤æ¥å®ç°å®ƒï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">isSomeInterface</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> x <span class="token keyword">is</span> SomeInterface <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> x<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'string'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> x<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token operator">:</span> SomeInterface<span class="token operator">|</span>SomeOtherInterface<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isSomeInterface</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Cool!</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="é‡è½½é—®é¢˜"><a href="#é‡è½½é—®é¢˜" class="header-anchor">#</a> é‡è½½é—®é¢˜</h3> <p>è¯·æ€è€ƒï¼šä¸ºä»€ä¹ˆä»¥ä¸‹å†™æ³•ä¼šæŠ¥é”™</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">createLog</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createLog</span><span class="token punctuation">(</span>source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> message<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">createLog</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token function">createLog</span><span class="token punctuation">(</span><span class="token string">'source'</span><span class="token punctuation">,</span> <span class="token string">'message'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ERROR: Supplied parameters do not match any signature</span>
</code></pre></div><p>å½“è‡³å°‘å…·æœ‰ä¸€ä¸ªå‡½æ•°é‡è½½çš„ç­¾åæ—¶ï¼Œåªæœ‰é‡è½½æ˜¯å¯è§çš„ã€‚æœ€åä¸€ä¸ªå£°æ˜ç­¾åï¼ˆä¹Ÿå¯ä»¥è¢«ç§°ä¸ºç­¾åçš„å®ç°ï¼‰å¯¹ç­¾åçš„å½¢çŠ¶å¹¶æ²¡æœ‰è´¡çŒ®ï¼Œå› æ­¤ï¼Œè¦è·å¾—æ‰€éœ€çš„è¡Œä¸ºï¼Œä½ éœ€è¦æ·»åŠ é¢å¤–çš„é‡è½½</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">createLog</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createLog</span><span class="token punctuation">(</span>source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createLog</span><span class="token punctuation">(</span>source<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> message<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦ä¸€ä¸ªä¾‹å­</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token comment">// Just an implementation and not visible to callers</span>
<span class="token punctuation">}</span>

<span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token function">compare</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token function">compare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error.</span>
</code></pre></div><h3 id="class-çš„ç±»å‹"><a href="#class-çš„ç±»å‹" class="header-anchor">#</a> class çš„ç±»å‹</h3> <p>ä»¥ä¸‹è¿™æ®µä»£ç ä¼šæç¤ºå‡ºé”™</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> x<span class="token operator">:</span> MyClass<span class="token punctuation">;</span>
<span class="token comment">// Cannot assign 'typeof MyClass' to MyClass? Huh?</span>
x <span class="token operator">=</span> MyClass<span class="token punctuation">;</span>
</code></pre></div><p><code>x</code> æ˜¯<code>MyClass</code>çš„å®ä¾‹ï¼Œå£°æ˜ç±»çš„å†™æ³•åº”è¯¥æ˜¯ <code>typeof MyClass</code></p> <h3 id="æ‰©å±•-errorã€arrayã€map-å†…ç½®å‡½æ•°çš„é—®é¢˜"><a href="#æ‰©å±•-errorã€arrayã€map-å†…ç½®å‡½æ•°çš„é—®é¢˜" class="header-anchor">#</a> æ‰©å±• Errorã€Arrayã€Map å†…ç½®å‡½æ•°çš„é—®é¢˜</h3> <p><a href="https://jkchao.github.io/typescript-book-chinese/faqs/class.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E6%89%A9%E5%B1%95-error%E3%80%81array%E3%80%81map-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%EF%BC%9F" target="_blank" rel="noopener noreferrer">å‚é˜…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼ˆä¸å¤ªæ˜ç™½ï¼‰</p> <h2 id="éšè®°"><a href="#éšè®°" class="header-anchor">#</a> éšè®°</h2> <ul><li>åªå¯¼å…¥æ¨¡å—, è¿™ç§å†™æ³•å¯¼å…¥äº†ä»€ä¹ˆ??</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">'core-js'</span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token string">'./index.css'</span>
</code></pre></div><ul><li>d.tsæ–‡ä»¶åˆ°åº•æ˜¯ä»€ä¹ˆä½œç”¨ï¼Ÿä¸ºå•¥.ä¸¤ä¸‹ï¼Œä¸ºå•¥å«d.tsï¼Œå’Œæ™®é€štsæ–‡ä»¶åŒºåˆ«ï¼Ÿ</li></ul> <p>eg: ä½¿ç”¨@typesä¸ºç°æœ‰npmåŒ…æä¾›ç±»å‹å£°æ˜</p></div> <div class="article-copyright"><ul><li class="article-copyright__item"><strong class="article-copyright__title">Last-updated<span>:</span></strong> <p class="article-copyright__text"></p></li> <li class="article-copyright__item"><strong class="article-copyright__title">Copyright<span>:</span></strong> <p class="article-copyright__text">è‡ªç”±è½¬è½½-éå•†ç”¨-ç¦æ­¢æ¼”ç»-ä¿æŒç½²åï¼ˆ<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh">CC
                BY-NC-ND 4.0</a>ï¼‰</p></li> <li class="article-copyright__item"><strong class="article-copyright__title">Link<span>:</span></strong> <p class="article-copyright__text"><a href="/post/2022/04/02/typescript-deep-dive-summary.html" title="ã€Šæ·±å…¥ç†è§£ TypeScriptã€‹ ç¬”è®°">/post/2022/04/02/typescript-deep-dive-summary.html</a></p></li></ul></div> <!----></div> <div class="article-footer"><ul class="post-tag"><li class="post-tag__item"><a href="/docs/tags/TypeScript"><span># TypeScript</span></a></li></ul> <div class="post-operate"><a href="/docs/post/2022/04/02/rn-trap.html" class="post-operate__prev">RN è¸©å‘è®°å½•</a> <a href="/docs/post/2022/04/02/typescript-nice-code-snippet.html" class="post-operate__next">TS ä¼˜ç§€ä»£ç ç¤ºä¾‹</a></div> <!----></div></article></div></div> <svg style="display:none;"><symbol id="theme-icon-auto" viewBox="0 0 32 32"><path d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM4 16c0-6.627 5.373-12 12-12v24c-6.627 0-12-5.373-12-12z"></path></symbol> <symbol id="theme-icon-sun" viewBox="0 0 32 32"><path d="M16 26c1.105 0 2 0.895 2 2v2c0 1.105-0.895 2-2 2s-2-0.895-2-2v-2c0-1.105 0.895-2 2-2zM16 6c-1.105 0-2-0.895-2-2v-2c0-1.105 0.895-2 2-2s2 0.895 2 2v2c0 1.105-0.895 2-2 2zM30 14c1.105 0 2 0.895 2 2s-0.895 2-2 2h-2c-1.105 0-2-0.895-2-2s0.895-2 2-2h2zM6 16c0 1.105-0.895 2-2 2h-2c-1.105 0-2-0.895-2-2s0.895-2 2-2h2c1.105 0 2 0.895 2 2zM25.899 23.071l1.414 1.414c0.781 0.781 0.781 2.047 0 2.828s-2.047 0.781-2.828 0l-1.414-1.414c-0.781-0.781-0.781-2.047 0-2.828s2.047-0.781 2.828 0zM6.101 8.929l-1.414-1.414c-0.781-0.781-0.781-2.047 0-2.828s2.047-0.781 2.828 0l1.414 1.414c0.781 0.781 0.781 2.047 0 2.828s-2.047 0.781-2.828 0zM25.899 8.929c-0.781 0.781-2.047 0.781-2.828 0s-0.781-2.047 0-2.828l1.414-1.414c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-1.414 1.414zM6.101 23.071c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-1.414 1.414c-0.781 0.781-2.047 0.781-2.828 0s-0.781-2.047 0-2.828l1.414-1.414z"></path> <path d="M16 8c-4.418 0-8 3.582-8 8s3.582 8 8 8c4.418 0 8-3.582 8-8s-3.582-8-8-8zM16 21c-2.761 0-5-2.239-5-5s2.239-5 5-5 5 2.239 5 5-2.239 5-5 5z"></path></symbol> <symbol id="theme-icon-moon" viewBox="0 0 18 18"><path d="M7.246 3.255c-0.251 0.828-0.322 1.71-0.198 2.597 0.366 2.63 2.455 4.723 5.080 5.089 0.282 0.040 0.568 0.060 0.85 0.060 0.599 0 1.184-0.087 1.742-0.257-0.674 2.215-2.642 3.926-4.973 4.21-0.254 0.031-0.51 0.047-0.762 0.047-1.713 0-3.349-0.738-4.486-2.024-1.152-1.304-1.669-2.987-1.457-4.739 0.284-2.335 1.992-4.307 4.204-4.982zM8.985 1c-0.362 0-0.731 0.024-1.104 0.075-3.543 0.48-6.388 3.364-6.82 6.92-0.592 4.867 3.184 9.005 7.924 9.005 0.33 0 0.665-0.020 1.003-0.062 3.549-0.433 6.428-3.283 6.907-6.833 0.052-0.383 0.076-0.761 0.075-1.134-0.002-0.583-0.482-0.972-0.996-0.972-0.209 0-0.424 0.065-0.614 0.207-0.665 0.498-1.489 0.793-2.383 0.793-0.188 0-0.38-0.013-0.574-0.040-1.732-0.242-3.137-1.649-3.378-3.385-0.155-1.115 0.149-2.156 0.751-2.963 0.415-0.657 0.025-1.609-0.764-1.612-0.009 0-0.018 0-0.028 0v0z"></path></symbol> <symbol id="theme-icon-palette" viewBox="0 0 1024 1024"><path d="M745.984 512q25.984 0 45.013333-18.005333t18.986667-45.994667-18.986667-45.994667-45.013333-18.005333-45.013333 18.005333-18.986667 45.994667 18.986667 45.994667 45.013333 18.005333zM617.984 342.016q25.984 0 45.013333-18.986667t18.986667-45.013333-18.986667-45.013333-45.013333-18.986667-45.013333 18.986667-18.986667 45.013333 18.986667 45.013333 45.013333 18.986667zM406.016 342.016q25.984 0 45.013333-18.986667t18.986667-45.013333-18.986667-45.013333-45.013333-18.986667-45.013333 18.986667-18.986667 45.013333 18.986667 45.013333 45.013333 18.986667zM278.016 512q25.984 0 45.013333-18.005333t18.986667-45.994667-18.986667-45.994667-45.013333-18.005333-45.013333 18.005333-18.986667 45.994667 18.986667 45.994667 45.013333 18.005333zM512 128q157.994667 0 271.018667 100.010667t112.981333 242.005333q0 88.021333-63.018667 150.016t-150.997333 61.994667l-73.984 0q-27.989333 0-45.994667 18.986667t-18.005333 45.013333q0 22.016 16 41.984t16 43.989333q0 27.989333-18.005333 45.994667t-45.994667 18.005333q-160 0-272-112t-112-272 112-272 272-112z" p-id="10529"></path></symbol> </svg></div><div class="global-ui"><div class="float-menu-wrap"><!----> <div class="float-menu__list"><span class="icon-up"></span> <span title="auto" class="theme-mode-setting"><svg class="theme-icon theme-icon-auto"><use xlink:href="#theme-icon-auto"></use></svg></span> <!----> <span class="icon-toc"></span> <span class="icon-search"></span></div> <div class="float-menu"><svg width="100%" height="100%" class="float-menu__progress"><circle stroke-dasharray="0% 301.59289474462014%" stroke="currentcolor" stroke-width="2%" fill="none" r="48%" cx="50%" cy="50%"></circle></svg> <div class="float-menu__dot"></div></div></div><div class="theme-search" style="display:none;"><div class="theme-search__inner"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a class="icon-exit"></a></div></div></div></div>
    <script src="/docs/assets/js/app.fdf9fab4.js" defer></script><script src="/docs/assets/js/4.2437bced.js" defer></script><script src="/docs/assets/js/12.7137cc28.js" defer></script><script src="/docs/assets/js/38.66788129.js" defer></script>
  </body>
</html>