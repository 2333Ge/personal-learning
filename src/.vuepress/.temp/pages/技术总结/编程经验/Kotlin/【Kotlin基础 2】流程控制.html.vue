<template><h1 id="æ¡ä»¶ä¸å¾ªç¯" tabindex="-1"><a class="header-anchor" href="#æ¡ä»¶ä¸å¾ªç¯" aria-hidden="true">#</a> <a href="https://book.kotlincn.net/text/control-flow.html" target="_blank" rel="noopener noreferrer">æ¡ä»¶ä¸å¾ªç¯<ExternalLinkIcon/></a></h1>
<h2 id="if-è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#if-è¡¨è¾¾å¼" aria-hidden="true">#</a> if è¡¨è¾¾å¼</h2>
<p>Kotlin ä¸­ï¼Œif æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼šå®ƒä¼šè¿”å›ä¸€ä¸ªå€¼ã€‚ å› æ­¤å°±ä¸éœ€è¦ä¸‰å…ƒè¿ç®—ç¬¦</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">val</span> max <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">></span> b<span class="token punctuation">)</span> a <span class="token keyword">else</span> b
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>if çš„åˆ†æ”¯å¯ä»¥æ˜¯ä»£ç å—ï¼Œè¿™ç§æƒ…å†µæœ€åçš„è¡¨è¾¾å¼ä½œä¸ºè¯¥å—çš„å€¼</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">val</span> max <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">></span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Choose a"</span></span><span class="token punctuation">)</span>
    a
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Choose b"</span></span><span class="token punctuation">)</span>
    b
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="when-è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#when-è¡¨è¾¾å¼" aria-hidden="true">#</a> when è¡¨è¾¾å¼</h2>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">when</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token number">1</span> <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x == 1"</span></span><span class="token punctuation">)</span>
    <span class="token number">2</span> <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x == 2"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is neither 1 nor 2"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>when æ—¢å¯ä»¥ä½œä¸ºè¡¨è¾¾å¼ä½¿ç”¨ä¹Ÿå¯ä»¥ä½œä¸ºè¯­å¥ä½¿ç”¨ã€‚å¦‚æœå®ƒè¢«å½“åšè¡¨è¾¾å¼ï¼Œç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„åˆ†æ”¯çš„å€¼å°±æ˜¯æ•´ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œå¦‚æœå½“åšè¯­å¥ä½¿ç”¨ï¼Œ åˆ™å¿½ç•¥ä¸ªåˆ«åˆ†æ”¯çš„å€¼</p>
<p>å¦‚æœ when ä½œä¸ºä¸€ä¸ªè¡¨è¾¾å¼ä½¿ç”¨ï¼Œåˆ™å¿…é¡»æœ‰ else åˆ†æ”¯ï¼Œé™¤éç¼–è¯‘å™¨èƒ½å¤Ÿæ£€æµ‹å‡ºæ‰€æœ‰çš„å¯èƒ½æƒ…å†µéƒ½å·²ç»è¦†ç›–äº†ï¼ˆå¦‚æšä¸¾ç±»ï¼‰</p>
<p>å¯ä»¥ç”¨ä»»æ„è¡¨è¾¾å¼ï¼ˆè€Œä¸åªæ˜¯å¸¸é‡ï¼‰ä½œä¸ºåˆ†æ”¯æ¡ä»¶</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">when</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    s<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"s encodes x"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"s does not encode x"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>è¿˜å¯ä»¥æ£€æµ‹ä¸€ä¸ªå€¼åœ¨ï¼ˆinï¼‰æˆ–è€…ä¸åœ¨ï¼ˆ!inï¼‰ä¸€ä¸ªåŒºé—´æˆ–è€…é›†åˆä¸­ï¼š</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">when</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span> <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is in the range"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">in</span> validNumbers <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is valid"</span></span><span class="token punctuation">)</span>
    <span class="token operator">!</span><span class="token keyword">in</span> <span class="token number">10</span><span class="token operator">..</span><span class="token number">20</span> <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is outside the range"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"none of the above"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ğŸ“¢ when ä¹Ÿå¯ä»¥ç”¨æ¥å–ä»£ if-else if é“¾ã€‚ å¦‚æœä¸æä¾›å‚æ•°ï¼Œæ‰€æœ‰çš„åˆ†æ”¯æ¡ä»¶éƒ½æ˜¯ç®€å•çš„å¸ƒå°”è¡¨è¾¾å¼ï¼Œè€Œå½“ä¸€ä¸ªåˆ†æ”¯çš„æ¡ä»¶ä¸ºçœŸæ—¶åˆ™æ‰§è¡Œè¯¥åˆ†æ”¯ï¼š</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">when</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">.</span><span class="token function">isOdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x is odd"</span></span><span class="token punctuation">)</span>
    y<span class="token punctuation">.</span><span class="token function">isEven</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"y is even"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"x+y is odd"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•å°† when çš„ä¸»è¯­ï¼ˆsubjectï¼Œè¯‘æ³¨ï¼šæŒ‡ when æ‰€åˆ¤æ–­çš„è¡¨è¾¾å¼ï¼‰æ•è·åˆ°å˜é‡ä¸­</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">fun</span> Request<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span>
        <span class="token keyword">when</span> <span class="token punctuation">(</span><span class="token keyword">val</span> response <span class="token operator">=</span> <span class="token function">executeRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">is</span> Success <span class="token operator">-></span> response<span class="token punctuation">.</span>body
            <span class="token keyword">is</span> HttpError <span class="token operator">-></span> <span class="token keyword">throw</span> <span class="token function">HttpException</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>åœ¨ when ä¸»è¯­ä¸­å¼•å…¥çš„å˜é‡çš„ä½œç”¨åŸŸä»…é™äº when ä¸»ä½“</p>
<h2 id="for-å¾ªç¯" tabindex="-1"><a class="header-anchor" href="#for-å¾ªç¯" aria-hidden="true">#</a> For å¾ªç¯</h2>
<p>for å¾ªç¯å¯ä»¥å¯¹ä»»ä½•æä¾›è¿­ä»£å™¨ï¼ˆiteratorï¼‰çš„å¯¹è±¡è¿›è¡Œéå†</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">for</span> <span class="token punctuation">(</span>item <span class="token keyword">in</span> collection<span class="token punctuation">)</span> <span class="token function">print</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¦‚éœ€åœ¨æ•°å­—åŒºé—´ä¸Šè¿­ä»£ï¼Œè¯·ä½¿ç”¨åŒºé—´è¡¨è¾¾å¼</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">6</span> downTo <span class="token number">0</span> step <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å¯¹åŒºé—´æˆ–è€…æ•°ç»„çš„ for å¾ªç¯ä¼šè¢«ç¼–è¯‘ä¸ºå¹¶ä¸åˆ›å»ºè¿­ä»£å™¨çš„åŸºäºç´¢å¼•çš„å¾ªç¯</p>
<p>éå†æ•°ç»„çš„ç´¢å¼•å¯ä»¥è¿™ä¹ˆåš</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">val</span> array <span class="token operator">=</span> <span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"c"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> array<span class="token punctuation">.</span>indices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æˆ–è€…ä½ å¯ä»¥ç”¨åº“å‡½æ•° withIndexï¼š</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> array <span class="token operator">=</span> <span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"c"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token keyword">in</span> array<span class="token punctuation">.</span><span class="token function">withIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"the element at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">index</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">value</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><hr>
<h1 id="è¿”å›ä¸è·³è½¬" tabindex="-1"><a class="header-anchor" href="#è¿”å›ä¸è·³è½¬" aria-hidden="true">#</a> <a href="https://book.kotlincn.net/text/returns.html" target="_blank" rel="noopener noreferrer">è¿”å›ä¸è·³è½¬<ExternalLinkIcon/></a></h1>
<p>ä¸‰ç§ç»“æ„åŒ–è·³è½¬:<code>return</code>ã€<code>break</code>ã€<code>continue</code></p>
<p>è¿™äº›è¡¨è¾¾å¼éƒ½å¯ä»¥ç”¨ä½œæ›´å¤§è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ï¼š</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">val</span> s <span class="token operator">=</span> person<span class="token punctuation">.</span>name <span class="token operator">?:</span> <span class="token keyword">return</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="break-ä¸-continue-æ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#break-ä¸-continue-æ ‡ç­¾" aria-hidden="true">#</a> Break ä¸ Continue æ ‡ç­¾</h2>
<p>åœ¨ Kotlin ä¸­ä»»ä½•è¡¨è¾¾å¼éƒ½å¯ä»¥ç”¨æ ‡ç­¾æ¥æ ‡è®°ã€‚ æ ‡ç­¾çš„æ ¼å¼ä¸ºæ ‡è¯†ç¬¦åè·Ÿ @ ç¬¦å·</p>
<ul>
<li>è·³è½¬ã€ç»“æŸä½äºè¯¥æ ‡ç­¾æŒ‡å®šçš„å¾ªç¯</li>
</ul>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token label symbol">loop@</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>â€¦â€¦<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token label symbol">@loop</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul>
<li>ä» lambda è¡¨è¾¾å¼ä¸­è¿”å›</li>
</ul>
<p>æ— æ ‡ç­¾æ—¶,å¦‚ä¸‹ä¾‹ ğŸŒ°ï¼Œç›´æ¥è¿”å›åˆ° foo() çš„è°ƒç”¨è€…</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token comment">// éå±€éƒ¨ç›´æ¥è¿”å›åˆ° foo() çš„è°ƒç”¨è€…</span>
        <span class="token function">print</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"this point is unreachable"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å¦‚éœ€ä» lambda è¡¨è¾¾å¼ä¸­è¿”å›ï¼Œå¯ç»™å®ƒåŠ æ ‡ç­¾å¹¶ç”¨ä»¥é™å®š return</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>forEach <span class="token label symbol">lit@</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token label symbol">@lit</span> <span class="token comment">// å±€éƒ¨è¿”å›åˆ°è¯¥ lambda è¡¨è¾¾å¼çš„è°ƒç”¨è€…â€”â€”forEach å¾ªç¯</span>
        <span class="token function">print</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">" done with explicit label"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>é€šå¸¸æƒ…å†µä¸‹ä½¿ç”¨éšå¼æ ‡ç­¾æ›´æ–¹ä¾¿ï¼Œå› ä¸ºè¯¥æ ‡ç­¾ä¸æ¥å—è¯¥ lambda çš„å‡½æ•°åŒå</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token label symbol">@forEach</span> <span class="token comment">// å±€éƒ¨è¿”å›åˆ°è¯¥ lambda è¡¨è¾¾å¼çš„è°ƒç”¨è€…â€”â€”forEach å¾ªç¯</span>
        <span class="token function">print</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">" done with implicit label"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æˆ–è€…ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¿åå‡½æ•°æ›¿ä»£ lambda è¡¨è¾¾å¼ã€‚ åŒ¿åå‡½æ•°å†…éƒ¨çš„ return è¯­å¥å°†ä»è¯¥åŒ¿åå‡½æ•°è‡ªèº«è¿”å›</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">fun</span><span class="token punctuation">(</span>value<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">return</span>  <span class="token comment">// å±€éƒ¨è¿”å›åˆ°åŒ¿åå‡½æ•°çš„è°ƒç”¨è€…â€”â€”forEach å¾ªç¯</span>
        <span class="token function">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">" done with anonymous function"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å‰é¢ 3 ä¸ªä¾‹å­ç±»ä¼¼å¸¸è§„å¾ªç¯ä¸­ä½¿ç”¨ continueï¼Œå¹¶æ²¡æœ‰ break çš„ç›´æ¥ç­‰ä»·å½¢å¼ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡å¢åŠ å¦ä¸€å±‚åµŒå¥— lambda è¡¨è¾¾å¼å¹¶ä»å…¶ä¸­éå±€éƒ¨è¿”å›æ¥æ¨¡æ‹Ÿ</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ??â‘ runçš„å†™æ³•æ„æ€</span>
    run <span class="token label symbol">loop@</span><span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token label symbol">@loop</span> <span class="token comment">// ä»ä¼ å…¥ run çš„ lambda è¡¨è¾¾å¼éå±€éƒ¨è¿”å›</span>
            <span class="token function">print</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">" done with nested loop"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>(??â‘¡, è¿”å›å€¼ç”¨åˆ°å“ªå„¿äº†ï¼Œä¸å¤ªæ˜ç™½)å½“è¦è¿”ä¸€ä¸ªå›å€¼çš„æ—¶å€™ï¼Œè§£æå™¨ä¼˜å…ˆé€‰ç”¨æ ‡ç­¾é™å®šçš„è¿”å›ï¼š</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">return</span><span class="token label symbol">@a</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è¿™æ„å‘³ç€â€œè¿”å› 1 åˆ° @aâ€ï¼Œè€Œä¸æ˜¯â€œè¿”å›ä¸€ä¸ªæ ‡ç­¾æ ‡æ³¨çš„è¡¨è¾¾å¼ (@a 1)â€ã€‚</p>
<h1 id="å¼‚å¸¸" tabindex="-1"><a class="header-anchor" href="#å¼‚å¸¸" aria-hidden="true">#</a> <a href="https://book.kotlincn.net/text/exceptions.html" target="_blank" rel="noopener noreferrer">å¼‚å¸¸<ExternalLinkIcon/></a></h1>
<h2 id="try-æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#try-æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼" aria-hidden="true">#</a> try æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼</h2>
<p>try æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ„å‘³ç€å®ƒå¯ä»¥æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼š</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">val</span> a<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token punctuation">{</span> input<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> NumberFormatException<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">null</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>try-è¡¨è¾¾å¼çš„è¿”å›å€¼æ˜¯ try å—ä¸­çš„æœ€åä¸€ä¸ªè¡¨è¾¾å¼æˆ–è€…æ˜¯ï¼ˆæ‰€æœ‰ï¼‰catch å—ä¸­çš„æœ€åä¸€ä¸ªè¡¨è¾¾å¼ã€‚ finally å—ä¸­çš„å†…å®¹ä¸ä¼šå½±å“è¡¨è¾¾å¼çš„ç»“æœ</p>
<h2 id="å—æ£€å¼‚å¸¸" tabindex="-1"><a class="header-anchor" href="#å—æ£€å¼‚å¸¸" aria-hidden="true">#</a> å—æ£€å¼‚å¸¸</h2>
<p>Kotlin æ²¡æœ‰å—æ£€å¼‚å¸¸ï¼Œå¯è§ã€ŠEffective Javaã€‹ç¬¬ä¸‰ç‰ˆ ç¬¬ 77 æ¡:</p>
<blockquote>
<p>é€šè¿‡ä¸€äº›å°ç¨‹åºæµ‹è¯•å¾—å‡ºçš„ç»“è®ºæ˜¯å¼‚å¸¸è§„èŒƒä¼šåŒæ—¶æé«˜å¼€å‘è€…çš„ç”Ÿäº§åŠ›ä¸ä»£ç è´¨é‡ï¼Œä½†æ˜¯å¤§å‹è½¯ä»¶é¡¹ç›®çš„ç»éªŒè¡¨æ˜ä¸€ä¸ªä¸åŒçš„ç»“è®ºâ€”â€”ç”Ÿäº§åŠ›é™ä½ã€ä»£ç è´¨é‡å¾ˆå°‘æˆ–æ²¡æœ‰æé«˜ã€‚</p>
</blockquote>
<h2 id="nothing-ç±»å‹" tabindex="-1"><a class="header-anchor" href="#nothing-ç±»å‹" aria-hidden="true">#</a> Nothing ç±»å‹</h2>
<p>Kotlin ä¸­ throw æ˜¯è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼çš„ç±»å‹æ˜¯ Nothing ç±»å‹ã€‚ è¿™ä¸ªç±»å‹æ²¡æœ‰å€¼ï¼Œè€Œæ˜¯ç”¨äºæ ‡è®°æ°¸è¿œä¸èƒ½è¾¾åˆ°çš„ä»£ç ä½ç½®ã€‚</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">val</span> s <span class="token operator">=</span> person<span class="token punctuation">.</span>name <span class="token operator">?:</span> <span class="token keyword">throw</span> <span class="token function">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Name required"</span></span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ä½ å¯ä»¥ä½¿ç”¨ Nothing æ¥æ ‡è®°ä¸€ä¸ªæ°¸è¿œä¸ä¼šè¿”å›çš„å‡½æ•°</p>
<div class="language-kotlin ext-kt line-numbers-mode"><pre v-pre class="language-kotlin"><code><span class="token keyword">val</span> s <span class="token operator">=</span> person<span class="token punctuation">.</span>name <span class="token operator">?:</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Name required"</span></span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>     <span class="token comment">// åœ¨æ­¤å·²çŸ¥â€œsâ€å·²åˆå§‹åŒ–</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å½“ä½ è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šçŸ¥é“åœ¨è¯¥è°ƒç”¨åå°±ä¸å†ç»§ç»­æ‰§è¡Œäº†</p>
<h1 id="question-list" tabindex="-1"><a class="header-anchor" href="#question-list" aria-hidden="true">#</a> question list</h1>
<ul>
<li>??â‘ :run å†™æ³•çš„æ„æ€</li>
<li>??â‘¡: è¿”å›å€¼ç”¨åˆ°å“ªå„¿äº†</li>
</ul>
</template>
