- ![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a8d76c9f5cf445bb752b61eed7a99a5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?)
- ## 进程
- 分类
	- Browser进程（主进程）：控制chrome的地址栏，书签栏，返回和前进按钮，同时还有浏览器的不可见部分，例如网络请求和文件访问
	- 第三方插件进程：每种插件一个进程，插件运行时才会创建
	- GPU进程：**仅此一个** ，用于3D绘制等
	- 浏览器渲染进程（浏览器内核）： 负责界面渲染，脚本执行，事件处理等
	- 网络服务进程：独立处理所有网络请求，增强浏览器安全性
- ### 多进程的优势
- 避免单个页面崩溃造成整个浏览器的卡顿（由于每一个 **Tab页** 都是独立的进程）
- 避免第三方插件崩溃影响整个浏览器（由于第三方插件是独立的进程）
- 多进程充分利用多核优势（现在的 CPU 性能都很高）
- ## 多线程的浏览器内核
- GUI渲染线程（和JS引擎线程互斥）
- JS引擎线程（和GUI线程互斥）
- 事件触发线程
- 定时触发线程
- 异步HTTP请求线程
- ## web worker，JS的多线程？
- webworker 允许许在主线程之外运行脚本，但是：
- **无法访问 DOM**：`Web Worker` 运行在独立的线程中，无法直接访问 `DOM` 和一些浏览器 API，因此主要用于处理纯粹的计算任务和网络请求。
- **通信开销**：由于 `Web Worker` 与主线程是隔离的，它们之间的通信需要通过消息传递，因此可能会存在一定的通信开销。
- **内存消耗**：每个 `Web Worker` 都会占用一定的内存，如果过多地创建 `Web Worker`，可能会导致内存消耗过大。
- ## Q：网络服务进程和浏览器渲染进程中的网络线程的联系与区别
  **网络服务进程**是现代浏览器（如Chrome）将网络功能完全独立出来的一个**进程**，而渲染进程中的网络线程（如异步HTTP请求线程）是**旧架构**下或**简化模型**中，负责发起网络请求的**线程**。
- ### 核心区别：
  | 特性 | 网络服务进程 (Network Service Process) | 渲染进程中的网络线程 |
  | :--- | :--- | :--- |
  | **层级** | **进程 (Process)** | **线程 (Thread)**，存在于渲染进程内 |
  | **角色** | **实际执行者**和**管理者** | **请求发起者** |
  | **范围** | **浏览器全局唯一**，管理所有页面的网络请求 | **每个渲染进程都有**，仅为自己所在的页面服务 |
  | **架构** | **现代架构** (面向服务的架构) | **旧架构**或**简化理解模型** |
  | **职责** | 负责DNS解析、TLS/SSL握手、HTTP请求/响应处理、Cookie管理、缓存等所有网络栈的实际工作。 | 负责解析JS代码（如`fetch`）或HTML标签（如`<img>`），并将网络请求的意图通过IPC（进程间通信）发送给主进程，最终由网络服务进程处理。 |
- ### 总结
  
  *   **区别**：**网络服务进程**是一个独立的、全局的、负责**实际执行**所有网络任务的**进程**。而**渲染进程中的网络线程**（如异步HTTP请求线程）是存在于每个渲染进程内部的、负责**发起**网络请求的**线程**，它本身不直接与网络硬件或互联网通信。
  *   **联系**：它们是浏览器网络请求处理流程中的**上下游关系**。渲染进程是需求的提出者，而网络服务进程是最终的执行者。它们之间通过浏览器主进程进行通信和协调。
- ## 参考文章
- [搞懂浏览器进程和线程](https://juejin.cn/post/7053974933931556900)
- [从浏览器多进程到JS单线程，JS运行机制最全面的一次梳理](https://juejin.cn/post/6844903553795014663)