- 简易版本
  ```javascript
  class RequestPool {
    queue = [];
    max = 3;
    activeCount = 0;
  
    addRequest = (func) => {
      this.queue.push(func);
      this.next();
    };
  
    next = () => {
      if (this.activeCount >= this.max || !this.queue.length) return;
      const firstFunc = this.queue.shift();
      this.activeCount++;
      Promise.resolve(firstFunc()).finally(() => {
        this.activeCount--;
        this.next();
      });
    };
  }
  
  ```